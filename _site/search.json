[
  {
    "objectID": "01-cleaning.html",
    "href": "01-cleaning.html",
    "title": "Cleaning",
    "section": "",
    "text": "Here I am loading the special libraries I need in order to clean my data. For this specific project I will need rvest and httr2 in order to pull out data that is not readily available for me to download.\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(rvest)\n\n\nAttaching package: 'rvest'\n\nThe following object is masked from 'package:readr':\n\n    guess_encoding\n\nlibrary(httr2)"
  },
  {
    "objectID": "01-cleaning.html#setting-up-the-project",
    "href": "01-cleaning.html#setting-up-the-project",
    "title": "Cleaning",
    "section": "",
    "text": "Here I am loading the special libraries I need in order to clean my data. For this specific project I will need rvest and httr2 in order to pull out data that is not readily available for me to download.\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(rvest)\n\n\nAttaching package: 'rvest'\n\nThe following object is masked from 'package:readr':\n\n    guess_encoding\n\nlibrary(httr2)"
  },
  {
    "objectID": "01-cleaning.html#getting-the-html",
    "href": "01-cleaning.html#getting-the-html",
    "title": "Cleaning",
    "section": "Getting the html",
    "text": "Getting the html\nBecause I can’t directly load the data into my computer, here I will get the html that I want to scrape the data from.\n\n# url &lt;- \"https://planestrategico.conl.mx/indicadores/detalle/ods/242/datos?page\"\nurl &lt;- \"https://planestrategico.conl.mx/indicadores/detalle/ods/242/datos?page=2\"\n\nhtml &lt;- read_html(url)\n\nI am asking the function to specifically scrape for information in a table format. To be able to identify what I need, I used the inspector function in my computer browser. To start I want to look at the index of climate change awareness of each state, or how responsible state entities are of their natural resources. This includes water efficiency, deforestation protection and much more. States are graded on a scale from 0 to 100, where the higher the score the better the better the performance.\n\ntables &lt;- html |&gt; html_table()\n\ntables[[1]]\n\n# A tibble: 10 × 4\n   `UNIDAD GEOGRÁFICA STR` VALOR   AÑO `CVE UNIDAD GEOGRÁFICA`\n   &lt;chr&gt;                   &lt;dbl&gt; &lt;int&gt;                   &lt;int&gt;\n 1 Nuevo León               57.6  2011                      19\n 2 Baja California          60.3  2011                       2\n 3 Oaxaca                   28.0  2011                      20\n 4 Puebla                   49.4  2011                      21\n 5 Querétaro                59.7  2011                      22\n 6 Quintana Roo             45.8  2011                      23\n 7 San Luis Potosí          35.2  2011                      24\n 8 Sinaloa                  55.6  2011                      25\n 9 Sonora                   52.0  2011                      26\n10 Tabasco                  28.4  2011                      27\n\ntables |&gt; _[[1]]\n\n# A tibble: 10 × 4\n   `UNIDAD GEOGRÁFICA STR` VALOR   AÑO `CVE UNIDAD GEOGRÁFICA`\n   &lt;chr&gt;                   &lt;dbl&gt; &lt;int&gt;                   &lt;int&gt;\n 1 Nuevo León               57.6  2011                      19\n 2 Baja California          60.3  2011                       2\n 3 Oaxaca                   28.0  2011                      20\n 4 Puebla                   49.4  2011                      21\n 5 Querétaro                59.7  2011                      22\n 6 Quintana Roo             45.8  2011                      23\n 7 San Luis Potosí          35.2  2011                      24\n 8 Sinaloa                  55.6  2011                      25\n 9 Sonora                   52.0  2011                      26\n10 Tabasco                  28.4  2011                      27\n\n\nThis is now a list of tibbles not a tibble."
  },
  {
    "objectID": "01-cleaning.html#spanish-terminology",
    "href": "01-cleaning.html#spanish-terminology",
    "title": "Cleaning",
    "section": "Spanish terminology",
    "text": "Spanish terminology\nThe first variable “UNIDAD GEOGRÁFICA STR” refers to the geographical region of each entity in the variable list, in this case the data is evaluated at the state level.\n“VALOR” stands for value.\n“AÑO”stands for year, which is also shown as “ano”.\n“CVE UNIDAD GRÁFICA” represents different numbers assigned to each state. For example, the state of Nuevo León is number 19. We will largely ignore these variables in this analysis."
  },
  {
    "objectID": "01-cleaning.html#function-to-parse-page",
    "href": "01-cleaning.html#function-to-parse-page",
    "title": "Cleaning",
    "section": "Function to parse page",
    "text": "Function to parse page\nHere we parse the page by using a function. This is also cleaning the names and making sure that they are easier for me to work with.\n\nparse_page &lt;- function(our_url) {\n  our_url |&gt; \n    read_html() |&gt; \n    html_table() |&gt; _[[1]] |&gt; \n    clean_names() |&gt; \n    mutate(valor = valor |&gt; as.character() |&gt; parse_number())\n}\n\n# We test this by feeding it the url variable we also used above here is the function\nparse_page(url)\n\n# A tibble: 10 × 4\n   unidad_geografica_str valor   ano cve_unidad_geografica\n   &lt;chr&gt;                 &lt;dbl&gt; &lt;int&gt;                 &lt;int&gt;\n 1 Nuevo León             57.6  2011                    19\n 2 Baja California        60.3  2011                     2\n 3 Oaxaca                 28.0  2011                    20\n 4 Puebla                 49.4  2011                    21\n 5 Querétaro              59.7  2011                    22\n 6 Quintana Roo           45.8  2011                    23\n 7 San Luis Potosí        35.2  2011                    24\n 8 Sinaloa                55.6  2011                    25\n 9 Sonora                 52.0  2011                    26\n10 Tabasco                28.4  2011                    27\n\n\nIn the function we also added the parse.number() in the function to ensure that it reads every valor variable as a number and not a character."
  },
  {
    "objectID": "01-cleaning.html#get-and-combine-the-pages",
    "href": "01-cleaning.html#get-and-combine-the-pages",
    "title": "Cleaning",
    "section": "Get and combine the pages",
    "text": "Get and combine the pages\nThis is where I get the data. The data is not just from the main page table, but all tables in the same url.\n\n# This range has to be valid. See how many pages are in the table\ni &lt;- 1:39\n\n# This creates a list of urls based on that range\nurls &lt;- str_glue(\"https://planestrategico.conl.mx/indicadores/detalle/ods/242/datos?page={i}\")\n\n# This takes that list of urls and then runs our parse_page() function on each one.\n# The result is a list tibbles, i.e., a table from each page\nrequests &lt;- map(urls, parse_page)\n\n# list_rbind is a special function that binds a list of tibbles into a single one\nclimate_data &lt;- requests |&gt; list_rbind() \n\n# here we just peek at the table\nclimate &lt;- climate_data |&gt; mutate(source= \"climate\")\n\nclimate\n\n# A tibble: 384 × 5\n   unidad_geografica_str valor   ano cve_unidad_geografica source \n   &lt;chr&gt;                 &lt;dbl&gt; &lt;int&gt;                 &lt;int&gt; &lt;chr&gt;  \n 1 Aguascalientes         69.6  2011                     1 climate\n 2 Durango                49.6  2011                    10 climate\n 3 Guanajuato             54.7  2011                    11 climate\n 4 Guerrero               32.0  2011                    12 climate\n 5 Hidalgo                37.7  2011                    13 climate\n 6 Jalisco                63.8  2011                    14 climate\n 7 México                 55.7  2011                    15 climate\n 8 Michoacán              47.9  2011                    16 climate\n 9 Morelos                58.1  2011                    17 climate\n10 Nayarit                53.6  2011                    18 climate\n# ℹ 374 more rows\n\n\nWe take all the pages that we want. In this example we have all 39 pages of data scraped. I also attributed these specific variables to the name “climate” to be able to identify what we are looking at."
  },
  {
    "objectID": "01-cleaning.html#adding-more-data-from-other-variables",
    "href": "01-cleaning.html#adding-more-data-from-other-variables",
    "title": "Cleaning",
    "section": "Adding more data from other variables",
    "text": "Adding more data from other variables\nNow I want to add other variables so that later I can form a more complete analysis. I added to my data the percentage of water insecurity by each Mexican state. I named this variable water_insecurity.\nHere is the same process with the url for water_insecurity:\n\n# This range has to be valid. See how many pages are in the table\ni &lt;- 1:7\n\n# This creates a list of urls based on that range\nurls &lt;- str_glue(\"https://planestrategico.conl.mx/indicadores/detalle/ods/934/datos?page={i}\")\n\n# This takes that list of urls and then runs our parse_page() function on each one.\n# The result is a list tibbles, i.e., a table from each page\nrequests &lt;- map(urls, parse_page)\n\n# list_rbind is a special function that binds a list of tibbles into a single one\nwater_insecurity_data &lt;- requests |&gt; list_rbind()\n\n# here we just peek at the table\nwater_insecurity &lt;- water_insecurity_data |&gt; \n  mutate(source = \"water_insecurity\")\n\nwater_insecurity\n\n# A tibble: 66 × 5\n   unidad_geografica_str valor   ano cve_unidad_geografica source          \n   &lt;chr&gt;                 &lt;dbl&gt; &lt;int&gt;                 &lt;int&gt; &lt;chr&gt;           \n 1 Nacional              15.4   2021                     0 water_insecurity\n 2 Aguascalientes        17.4   2021                     1 water_insecurity\n 3 Durango                9.33  2021                    10 water_insecurity\n 4 Guanajuato             8.72  2021                    11 water_insecurity\n 5 Guerrero              26.1   2021                    12 water_insecurity\n 6 Hidalgo               16.0   2021                    13 water_insecurity\n 7 Jalisco               21.6   2021                    14 water_insecurity\n 8 México                24.2   2021                    15 water_insecurity\n 9 Michoacán             20.4   2021                    16 water_insecurity\n10 Morelos               19.3   2021                    17 water_insecurity\n# ℹ 56 more rows\n\n\nNotice how the only element that changes in the url is the attached number in the source variable.\nNow I want to add the data for average annual availability of groundwater. This variable is in units of millions of cubic meters per year. This also takes into account the amount of water that can be used in many ways without harming the environment with its extraction. I called this variable groundwater for simplicity.\nHere is the data pulled for groundwater:\n\ni &lt;- 1:7\n\nurls &lt;- str_glue(\"https://planestrategico.conl.mx/indicadores/detalle/ods/122/datos?page={i}\")\n\nrequests &lt;- map(urls, parse_page)\n\ngroundwater_data &lt;- requests |&gt; list_rbind()\n\ngroundwater &lt;- groundwater_data |&gt; \n  mutate(source = \"groundwater\")\n\ngroundwater\n\n# A tibble: 64 × 5\n   unidad_geografica_str  valor   ano cve_unidad_geografica source     \n   &lt;chr&gt;                  &lt;dbl&gt; &lt;int&gt;                 &lt;int&gt; &lt;chr&gt;      \n 1 Aguascalientes        -108.   2018                     1 groundwater\n 2 Durango                 30    2018                    10 groundwater\n 3 Guanajuato            -465.   2018                    11 groundwater\n 4 Guerrero               762.   2018                    12 groundwater\n 5 Hidalgo                236.   2018                    13 groundwater\n 6 Jalisco               -246.   2018                    14 groundwater\n 7 México                -350.   2018                    15 groundwater\n 8 Michoacán              228.   2018                    16 groundwater\n 9 Morelos                 37.2  2018                    17 groundwater\n10 Nayarit                 93.3  2018                    18 groundwater\n# ℹ 54 more rows\n\n\nNow I will add data that looks at the number of hectares reforested by year in each state. This looks specifically at reforestation efforts. I called this variable reforestation.\nHere is the data pulled for reforestation:\n\ni &lt;- 1:53\n\nurls &lt;- str_glue(\"https://planestrategico.conl.mx/indicadores/detalle/ods/135/datos?page={i}\")\n\nrequests &lt;- map(urls, parse_page)\n\nreforestation_data &lt;- requests |&gt; list_rbind()\n\nreforestation &lt;- reforestation_data |&gt; \n  mutate(source = \"reforestation\")\n\nreforestation\n\n# A tibble: 528 × 5\n   unidad_geografica_str   valor   ano cve_unidad_geografica source       \n   &lt;chr&gt;                   &lt;dbl&gt; &lt;int&gt;                 &lt;int&gt; &lt;chr&gt;        \n 1 Nacional              14513.   1993                     0 reforestation\n 2 Aguascalientes          123.   1993                     1 reforestation\n 3 Durango                 648.   1993                    10 reforestation\n 4 Guanajuato               42.8  1993                    11 reforestation\n 5 Guerrero                737.   1993                    12 reforestation\n 6 Hidalgo                 285.   1993                    13 reforestation\n 7 Jalisco                 316.   1993                    14 reforestation\n 8 México                  734    1993                    15 reforestation\n 9 Michoacán               802.   1993                    16 reforestation\n10 Morelos                 982.   1993                    17 reforestation\n# ℹ 518 more rows"
  },
  {
    "objectID": "01-cleaning.html#combine-the-data",
    "href": "01-cleaning.html#combine-the-data",
    "title": "Cleaning",
    "section": "Combine the data",
    "text": "Combine the data\nIn order to export and analyze my data I combined all of the variables together. Since they all have the same table format, it was easy to make each one match up.\n\nall_the_data &lt;- bind_rows(climate, \n water_insecurity, groundwater, reforestation)\n\nall_the_data\n\n# A tibble: 1,042 × 5\n   unidad_geografica_str valor   ano cve_unidad_geografica source \n   &lt;chr&gt;                 &lt;dbl&gt; &lt;int&gt;                 &lt;int&gt; &lt;chr&gt;  \n 1 Aguascalientes         69.6  2011                     1 climate\n 2 Durango                49.6  2011                    10 climate\n 3 Guanajuato             54.7  2011                    11 climate\n 4 Guerrero               32.0  2011                    12 climate\n 5 Hidalgo                37.7  2011                    13 climate\n 6 Jalisco                63.8  2011                    14 climate\n 7 México                 55.7  2011                    15 climate\n 8 Michoacán              47.9  2011                    16 climate\n 9 Morelos                58.1  2011                    17 climate\n10 Nayarit                53.6  2011                    18 climate\n# ℹ 1,032 more rows\n\n\nNow I have all the data filter source in place, and with the source name I can differentiate and tell what each number means."
  },
  {
    "objectID": "01-cleaning.html#exporing-the-data",
    "href": "01-cleaning.html#exporing-the-data",
    "title": "Cleaning",
    "section": "Exporing the data",
    "text": "Exporing the data\nI will export my cleaned data to a folder.\n\nall_the_data |&gt; write_rds(\"data-processed/01-finaldata.rds\")"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "mariaprobert-final",
    "section": "",
    "text": "EnglishEspañol\n\n\nWhen it comes to good use of natural resources and reforestation efforts, the Mexican state of Nuevo León is among the best performing states in Mexico. However, almost half of the state population suffers from water insecurity as of 2022, and during the pandemic the deficit of groundwater grew substantially from years past.\nThese findings stem from a data analysis using data from Consejo Nuevo León, that analyzes Mexican state entities based on different variables. Consejo Nuevo León uses the data that they collect to then evaluate and formulate guidelines for the Mexican government to further help and improve social issues. Consejo Nuevo León information can be accessed here: https://conl.mx/quienes_somos.\nThis project aims to compare and analyze different Mexican states and how well they do in four categories: climate change index, water insecurity, groundwater and reforestation.\nMore information and details about each variable can be found in the Cleaning page of this project.\nWebsite of data for each variable:\n\nClimate change index: https://planestrategico.conl.mx/indicadores/detalle/ods/242/datos\nWater insecurity: https://planestrategico.conl.mx/indicadores/detalle/ods/934/datos\nGroundwater: https://planestrategico.conl.mx/indicadores/detalle/ods/122/datos\nReforestation: https://planestrategico.conl.mx/indicadores/detalle/ods/135/datos\n\nHere are some data takeaways from this analysis:\nThe overall climate change index scores have decreased in recent years, signaling the poor treatment of natural resources in the country. The entity of Mexico City is consistently scored the highest since 2011, while the state of Quintana Roo stays closer to the bottom of the ranking with a low score of 13.143 in 2022. Meanwhile, the states of Hidalgo and Oaxaca improved significantly during the pandemic years.\nThe decrease in score began some time before the pandemic, around 2018. Interestingly enough, President Andres Manuel Lopez Obrador came into office in Dec. 2018. More exploration and reporting would be needed to explain if there is a relationship between the lower scores and the current presidential administration.\n\nFor this second data analysis graph, the tiles in the chart represent the ranking position of the state of Nuevo León for the four different categories. Even though Nuevo León placed thirty third in 2022 for water insecurity (including the ranking for the whole nation plus 32 federal entities), which is the lowest ranking, the state ranked fourth in the same year for climate change index, or how well the state uses its natural resources. The lowest score in water insecurity is attached to Nuevo León because 42.014% or almost half of the population experiences a lack of access to clean water. Extra reporting and investigation would be needed to asses these contrasting results.\nFor the category of reforestation, Nuevo León has significantly improved when compared to other states. In 1993, Nuevo León occupied 16th place, but moved up to fourth in 2022.\nMore research would be required to learn about how state actions and resources led to these results.\n\nWater insecurity level data of the state of Nuevo León and other data breakdowns and analysis charts are available in the Analysis page of this project.\nProject by Maria Probert Hermosillo\n\n\nEl estado mexicano de Nuevo León tiene de los mejores rankings de buen uso de recursos naturales y de esfuerzos reforestatales. Aún asi, casi la mitad de la población del estado sufre de inseguridad de agua en el 2022, y durante la pandemia el deficit de agua potable creció de manera substentable desde el año pasado.\nEstas observaciones surgieron de un analysis usando datos del Consejo Nuevo León, que analiza datos de las diferentes entidades federales y formulan guías para los gobiernos mexicanos para que puedan luchar contra diferentes temas sociales. Más infromación sobre Consejo Nuevo Leon se puede ver aquí: https://conl.mx/quienes_somos.\nEste proyecto busca comparar y analizar a los diferentes estados mexicanos y cómo califican en cuatro categorías: climate change index, water insecurity, groundwater and reforestation.\nMás información y detalles de cada variable se puede encontrar en la página Cleaning page de este proyecto.\nLas páginas en línea con ifnormación de cada variable:\n\nÍndice de cambio climático: https://planestrategico.conl.mx/indicadores/detalle/ods/242/datos\nInseguridad de agua: https://planestrategico.conl.mx/indicadores/detalle/ods/934/datos\nAgua subterránea: https://planestrategico.conl.mx/indicadores/detalle/ods/122/datos\nReforestación: https://planestrategico.conl.mx/indicadores/detalle/ods/135/datos\n\nAquí hay unos datos sobre el analysis:\nEl índice del cambio climático a nivel nacional a bajado en los últimos años, señalando un maltrato de los recursos naturales en el pais. La entidad de la Ciudad de México califica en los primeros lugares de manera constante desde el 2011, mientras tanto, estaods como Quintana Roo califican más cerca al final del ranking con una calificación bajade 13.143. Mientras tanto, estados como Hidalgo y Oaxaca han mejorado den los rankings desde los años pandémicos.\nLas calificaciones bajaron antes de la pandemia, alrededor del 2018. Un dato interesante es que el Presdiente Andres Manuel Lopez Obrador empezó su mandato en diciembre del 2018. Más exploración y reportaje se requiere para explicar si hay una relación entre las calificaciones bajas, y la administración del presidente actual.\n\nEn esta segunda gráfica, cada cuadro representa la posición del estado de Nuevo León en las cuatro categorías. Aunque Nuevo León quedo en el lugar 33 en el 2022 por inseguridad de agua (esto incluye el ranking de todo el pais más 32 entidades federales), que es la peor posición del ranking, el estado también califico en cuarto lugar en el mismo año por el índice de cambio climático. Esa categoría también es para calificar que tan bien usan los recursos naturales. La calificación más baja en inseguridad de agua es de Nuevo León porque casi la mitad o el 42.014% de la población no tiene agua. Más reportaje he investigación se necesita para entender estos resultados.\nPara la categoría de reforestación, Nuevo León ha mejorado mucho comparado con otros estados. En 1993, Nuevo León ocupó el 16avo lugar, pero ahora tiene el cuarto lugar en 2022.\nMás investigación se necesita para aprender sobre las acciones de cada estado y los recursos que se usaron para obtener estos resultados."
  },
  {
    "objectID": "02-analysis.html",
    "href": "02-analysis.html",
    "title": "Analysis",
    "section": "",
    "text": "Goals of this analysis:"
  },
  {
    "objectID": "02-analysis.html#setting-up",
    "href": "02-analysis.html#setting-up",
    "title": "Analysis",
    "section": "Setting up",
    "text": "Setting up\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(rvest)\n\n\nAttaching package: 'rvest'\n\nThe following object is masked from 'package:readr':\n\n    guess_encoding\n\nlibrary(httr2)\nlibrary(clipr)\n\nWelcome to clipr. See ?write_clip for advisories on writing to the clipboard in R."
  },
  {
    "objectID": "02-analysis.html#importing-the-cleaned-data",
    "href": "02-analysis.html#importing-the-cleaned-data",
    "title": "Analysis",
    "section": "Importing the cleaned data",
    "text": "Importing the cleaned data\nHere I am importing the data from my cleaning notebook so that I can start my analysis.\n\nall_the_data &lt;- read_rds(\"data-processed/01-finaldata.rds\")\n\n\nall_the_data |&gt; glimpse()\n\nRows: 1,042\nColumns: 5\n$ unidad_geografica_str &lt;chr&gt; \"Aguascalientes\", \"Durango\", \"Guanajuato\", \"Guer…\n$ valor                 &lt;dbl&gt; 69.636, 49.621, 54.721, 32.021, 37.715, 63.833, …\n$ ano                   &lt;int&gt; 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2011, …\n$ cve_unidad_geografica &lt;int&gt; 1, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 2, 20…\n$ source                &lt;chr&gt; \"climate\", \"climate\", \"climate\", \"climate\", \"cli…"
  },
  {
    "objectID": "02-analysis.html#climate-change-index",
    "href": "02-analysis.html#climate-change-index",
    "title": "Analysis",
    "section": "Climate change index",
    "text": "Climate change index\nTo look at how the different states perform per year, I want to create a line chart for the climate change index score.\nHere we will prepare the data to isolate the climate change index:\n\nclimate_change_index &lt;- all_the_data |&gt;\n  filter(source == \"climate\") |&gt;\n  group_by(unidad_geografica_str, ano) |&gt;\n  select(unidad_geografica_str, valor, ano) |&gt; \n  mutate(ano= str_c(\"01-01-\", ano) |&gt; mdy() ) |&gt; \n    filter(unidad_geografica_str != \"Nacional\") \n\n  \n\nclimate_change_index\n\n# A tibble: 384 × 3\n# Groups:   unidad_geografica_str, ano [384]\n   unidad_geografica_str valor ano       \n   &lt;chr&gt;                 &lt;dbl&gt; &lt;date&gt;    \n 1 Aguascalientes         69.6 2011-01-01\n 2 Durango                49.6 2011-01-01\n 3 Guanajuato             54.7 2011-01-01\n 4 Guerrero               32.0 2011-01-01\n 5 Hidalgo                37.7 2011-01-01\n 6 Jalisco                63.8 2011-01-01\n 7 México                 55.7 2011-01-01\n 8 Michoacán              47.9 2011-01-01\n 9 Morelos                58.1 2011-01-01\n10 Nayarit                53.6 2011-01-01\n# ℹ 374 more rows\n\n\nHere I am preparing the data by making a vector:\n\nclimate_change_list &lt;- all_the_data |&gt; distinct(unidad_geografica_str) |&gt; pull(unidad_geografica_str) \n\n\nclimate_change_list\n\n [1] \"Aguascalientes\"      \"Durango\"             \"Guanajuato\"         \n [4] \"Guerrero\"            \"Hidalgo\"             \"Jalisco\"            \n [7] \"México\"              \"Michoacán\"           \"Morelos\"            \n[10] \"Nayarit\"             \"Nuevo León\"          \"Baja California\"    \n[13] \"Oaxaca\"              \"Puebla\"              \"Querétaro\"          \n[16] \"Quintana Roo\"        \"San Luis Potosí\"     \"Sinaloa\"            \n[19] \"Sonora\"              \"Tabasco\"             \"Tamaulipas\"         \n[22] \"Tlaxcala\"            \"Baja California Sur\" \"Veracruz\"           \n[25] \"Yucatán\"             \"Zacatecas\"           \"Campeche\"           \n[28] \"Coahuila\"            \"Colima\"              \"Chiapas\"            \n[31] \"Chihuahua\"           \"Ciudad de México\"    \"Nacional\"           \n\n\nNow we will plot using a function for each of the Mexican states:\n\nplot_climate &lt;- function(plot_state) {\n  climate_change_index |&gt; \n  filter(unidad_geografica_str == plot_state, unidad_geografica_str != \"Nacional\") |&gt;\n  ggplot(aes(x = ano, y = valor, color = unidad_geografica_str)) +\n  geom_point() + \n  geom_line() +\n  labs(title = str_glue(\"Climate change index for all Mexican states: \", plot_state|&gt; str_to_title()), x= \"year\", y= \"Value\", color = \"State\", subtitle = str_wrap(\"The climate change index measures the performance of each state when it comes to good use of natural resoures. In most recent years, most states have seen a decrease in scores.\"), caption = \"Source = Consejo Nuevo León\") \n}\n\n## This is an example to make sure that it works: \nplot_climate(climate_change_list[[1]])\n\n\n\n\n\n\n\n\nNow we will map the function to plot all of the states:\n\nclimate_change_list |&gt; \n  map(plot_climate) \n\n[[1]]\n\n\n\n\n\n\n\n\n\n\n[[2]]\n\n\n\n\n\n\n\n\n\n\n[[3]]\n\n\n\n\n\n\n\n\n\n\n[[4]]\n\n\n\n\n\n\n\n\n\n\n[[5]]\n\n\n\n\n\n\n\n\n\n\n[[6]]\n\n\n\n\n\n\n\n\n\n\n[[7]]\n\n\n\n\n\n\n\n\n\n\n[[8]]\n\n\n\n\n\n\n\n\n\n\n[[9]]\n\n\n\n\n\n\n\n\n\n\n[[10]]\n\n\n\n\n\n\n\n\n\n\n[[11]]\n\n\n\n\n\n\n\n\n\n\n[[12]]\n\n\n\n\n\n\n\n\n\n\n[[13]]\n\n\n\n\n\n\n\n\n\n\n[[14]]\n\n\n\n\n\n\n\n\n\n\n[[15]]\n\n\n\n\n\n\n\n\n\n\n[[16]]\n\n\n\n\n\n\n\n\n\n\n[[17]]\n\n\n\n\n\n\n\n\n\n\n[[18]]\n\n\n\n\n\n\n\n\n\n\n[[19]]\n\n\n\n\n\n\n\n\n\n\n[[20]]\n\n\n\n\n\n\n\n\n\n\n[[21]]\n\n\n\n\n\n\n\n\n\n\n[[22]]\n\n\n\n\n\n\n\n\n\n\n[[23]]\n\n\n\n\n\n\n\n\n\n\n[[24]]\n\n\n\n\n\n\n\n\n\n\n[[25]]\n\n\n\n\n\n\n\n\n\n\n[[26]]\n\n\n\n\n\n\n\n\n\n\n[[27]]\n\n\n\n\n\n\n\n\n\n\n[[28]]\n\n\n\n\n\n\n\n\n\n\n[[29]]\n\n\n\n\n\n\n\n\n\n\n[[30]]\n\n\n\n\n\n\n\n\n\n\n[[31]]\n\n\n\n\n\n\n\n\n\n\n[[32]]\n\n\n\n\n\n\n\n\n\n\n[[33]]\n\n\n\n\n\n\n\n\n\nI noticed a trend with a significant drop in scores throughout many charts in the year 2018.\nI’m going to plot all of the states together to observe this:\n\nclimate_joint_chart &lt;- climate_change_index |&gt; \n  ggplot(aes(x = ano, y = valor, color = unidad_geografica_str)) +\n  geom_point() + \n  geom_line() +\n labs(title = \"Climate change index for all Mexican states\", subtitle= str_wrap(\"The climate change index score of most Mexican states dropped significantly in 2018, the year current President Andres Manuel Lopez Obrador came into power.\"), x = \"Year\", y = \"Value\", color = \"State\", caption = \"Source = Consejo Nuevo León\"\n) +\n  theme(legend.position = \"bottom\")\n\n\n ggsave(\"figures/climate_joint_chart.png\")\n\nSaving 7 x 5 in image\n\n\n\nNote: “Nacional,” which represents all of the states combined, has no data.\nData takeaways: The overall climate change index levels have decreased in recent years. The entity of Mexico City was consistently scored the highest since 2011, while the state of Quintana Roo stays closer to the bottom of the ranking with a low score of 13.143 in 2022. Meanwhile, the states of Hidalgo and Oaxaca improved significantly during the pandemic years.\nThe decrease in score began some time before the pandemic, around 2018. Interestingly enough, President Andres Manuel Lopez Obrador came into office in Dec. 2018. More exploration and reporting would be needed to explain if there is a relationship between the lower scores and this event."
  },
  {
    "objectID": "02-analysis.html#water-insecurity",
    "href": "02-analysis.html#water-insecurity",
    "title": "Analysis",
    "section": "Water insecurity",
    "text": "Water insecurity\nNow I want to compare the percentage of homes that the Household Water Insecurity Experiences-HWISE qualifies as going through drinking water insecurity. This data focuses on data just from 2021 to 2022.\nThis particular data set also includes “Nacional” which represents the average percentage of homes dealing with water insecurity in the entire country.\nHere I am preparing the data:\n\nwater_insecurity_percent &lt;- all_the_data |&gt;\n  filter(source == \"water_insecurity\") |&gt;\n  group_by(unidad_geografica_str, ano) |&gt;\n  select(unidad_geografica_str, valor, ano) |&gt;\n  mutate(ano= str_c(\"01-01-\", ano) |&gt; mdy() )\n\n\nwater_insecurity_percent\n\n# A tibble: 66 × 3\n# Groups:   unidad_geografica_str, ano [66]\n   unidad_geografica_str valor ano       \n   &lt;chr&gt;                 &lt;dbl&gt; &lt;date&gt;    \n 1 Nacional              15.4  2021-01-01\n 2 Aguascalientes        17.4  2021-01-01\n 3 Durango                9.33 2021-01-01\n 4 Guanajuato             8.72 2021-01-01\n 5 Guerrero              26.1  2021-01-01\n 6 Hidalgo               16.0  2021-01-01\n 7 Jalisco               21.6  2021-01-01\n 8 México                24.2  2021-01-01\n 9 Michoacán             20.4  2021-01-01\n10 Morelos               19.3  2021-01-01\n# ℹ 56 more rows\n\n\nI am going to visualise the data with a vector:\n\nwater_insecurity_list &lt;- all_the_data |&gt; distinct(unidad_geografica_str) |&gt; pull(unidad_geografica_str)\n\nwater_insecurity_list\n\n [1] \"Aguascalientes\"      \"Durango\"             \"Guanajuato\"         \n [4] \"Guerrero\"            \"Hidalgo\"             \"Jalisco\"            \n [7] \"México\"              \"Michoacán\"           \"Morelos\"            \n[10] \"Nayarit\"             \"Nuevo León\"          \"Baja California\"    \n[13] \"Oaxaca\"              \"Puebla\"              \"Querétaro\"          \n[16] \"Quintana Roo\"        \"San Luis Potosí\"     \"Sinaloa\"            \n[19] \"Sonora\"              \"Tabasco\"             \"Tamaulipas\"         \n[22] \"Tlaxcala\"            \"Baja California Sur\" \"Veracruz\"           \n[25] \"Yucatán\"             \"Zacatecas\"           \"Campeche\"           \n[28] \"Coahuila\"            \"Colima\"              \"Chiapas\"            \n[31] \"Chihuahua\"           \"Ciudad de México\"    \"Nacional\"           \n\n\nNow I am plotting the data for each Mexican state with a function:\n\nplot_water_insecurity &lt;- function(plot_state) {\n  water_insecurity_percent |&gt; \n  filter(unidad_geografica_str == plot_state) |&gt;\n  ggplot(aes(x = ano, y = valor, color = unidad_geografica_str)) +\n  geom_point() + \n  geom_col() +\n  labs(title = str_glue(\"Percentage of water insecurity in all 32 Mexican states: \", plot_state|&gt; str_to_title()), x= \"Year\", y= \"Value\", color = \"State\", subtitle = str_wrap(\"The state of Nuevo León had a drastic increase in homes experiencing water insecurity, with almost half of homes not having enough access to water in 2022.\"), caption = \"Source = Consejo Nuevo León\"\n)\n}\n\n## This is an example to make sure that it works: \nplot_water_insecurity(water_insecurity_list[[1]])\n\n\n\n\n\n\n\n\nNow I will list out the rest of the Mexican states:\n\nwater_insecurity_list |&gt; \n  map(plot_water_insecurity)\n\n[[1]]\n\n\n\n\n\n\n\n\n\n\n[[2]]\n\n\n\n\n\n\n\n\n\n\n[[3]]\n\n\n\n\n\n\n\n\n\n\n[[4]]\n\n\n\n\n\n\n\n\n\n\n[[5]]\n\n\n\n\n\n\n\n\n\n\n[[6]]\n\n\n\n\n\n\n\n\n\n\n[[7]]\n\n\n\n\n\n\n\n\n\n\n[[8]]\n\n\n\n\n\n\n\n\n\n\n[[9]]\n\n\n\n\n\n\n\n\n\n\n[[10]]\n\n\n\n\n\n\n\n\n\n\n[[11]]\n\n\n\n\n\n\n\n\n\n\n[[12]]\n\n\n\n\n\n\n\n\n\n\n[[13]]\n\n\n\n\n\n\n\n\n\n\n[[14]]\n\n\n\n\n\n\n\n\n\n\n[[15]]\n\n\n\n\n\n\n\n\n\n\n[[16]]\n\n\n\n\n\n\n\n\n\n\n[[17]]\n\n\n\n\n\n\n\n\n\n\n[[18]]\n\n\n\n\n\n\n\n\n\n\n[[19]]\n\n\n\n\n\n\n\n\n\n\n[[20]]\n\n\n\n\n\n\n\n\n\n\n[[21]]\n\n\n\n\n\n\n\n\n\n\n[[22]]\n\n\n\n\n\n\n\n\n\n\n[[23]]\n\n\n\n\n\n\n\n\n\n\n[[24]]\n\n\n\n\n\n\n\n\n\n\n[[25]]\n\n\n\n\n\n\n\n\n\n\n[[26]]\n\n\n\n\n\n\n\n\n\n\n[[27]]\n\n\n\n\n\n\n\n\n\n\n[[28]]\n\n\n\n\n\n\n\n\n\n\n[[29]]\n\n\n\n\n\n\n\n\n\n\n[[30]]\n\n\n\n\n\n\n\n\n\n\n[[31]]\n\n\n\n\n\n\n\n\n\n\n[[32]]\n\n\n\n\n\n\n\n\n\n\n[[33]]\n\n\n\n\n\n\n\n\n\nData takeaways: The state of Nuevo León saw a drastic increase in homes experiencing water insecurity from 2021 to 2022. The percentage of homes increased from 7.004% to 42.014% or almost half of the population. Meanwhile, in the state of Tabasco, the percentage of homes dealing with water insecurity dropped from 38.690% to 10.830%."
  },
  {
    "objectID": "02-analysis.html#groundwater",
    "href": "02-analysis.html#groundwater",
    "title": "Analysis",
    "section": "Groundwater",
    "text": "Groundwater\nNow I will look at the volume of available groundwater that can be used by each population in a way that will not hurt the environment.\nThe data for this variable only accounts for information from 2018 and 2020.\nHere I prepared the data:\n\ngroundwater_volume &lt;- all_the_data |&gt;\n  filter(source == \"groundwater\") |&gt;\n  group_by(unidad_geografica_str, ano) |&gt;\n  select(unidad_geografica_str, valor, ano) |&gt;\n  mutate(ano= str_c(\"01-01-\", ano) |&gt; mdy() )\n\n\ngroundwater_volume\n\n# A tibble: 64 × 3\n# Groups:   unidad_geografica_str, ano [64]\n   unidad_geografica_str  valor ano       \n   &lt;chr&gt;                  &lt;dbl&gt; &lt;date&gt;    \n 1 Aguascalientes        -108.  2018-01-01\n 2 Durango                 30   2018-01-01\n 3 Guanajuato            -465.  2018-01-01\n 4 Guerrero               762.  2018-01-01\n 5 Hidalgo                236.  2018-01-01\n 6 Jalisco               -246.  2018-01-01\n 7 México                -350.  2018-01-01\n 8 Michoacán              228.  2018-01-01\n 9 Morelos                 37.2 2018-01-01\n10 Nayarit                 93.3 2018-01-01\n# ℹ 54 more rows\n\n\nNow I will visualize the data by building a function specific to ground water data:\n\ngroundwater_list &lt;- all_the_data |&gt; distinct(unidad_geografica_str) |&gt; pull(unidad_geografica_str)\n\ngroundwater_list\n\n [1] \"Aguascalientes\"      \"Durango\"             \"Guanajuato\"         \n [4] \"Guerrero\"            \"Hidalgo\"             \"Jalisco\"            \n [7] \"México\"              \"Michoacán\"           \"Morelos\"            \n[10] \"Nayarit\"             \"Nuevo León\"          \"Baja California\"    \n[13] \"Oaxaca\"              \"Puebla\"              \"Querétaro\"          \n[16] \"Quintana Roo\"        \"San Luis Potosí\"     \"Sinaloa\"            \n[19] \"Sonora\"              \"Tabasco\"             \"Tamaulipas\"         \n[22] \"Tlaxcala\"            \"Baja California Sur\" \"Veracruz\"           \n[25] \"Yucatán\"             \"Zacatecas\"           \"Campeche\"           \n[28] \"Coahuila\"            \"Colima\"              \"Chiapas\"            \n[31] \"Chihuahua\"           \"Ciudad de México\"    \"Nacional\"           \n\n\nNow I will plot the data for each state:\n\nplot_groundwater &lt;- function(plot_state) {\n  groundwater_volume |&gt; \n  filter(unidad_geografica_str == plot_state) |&gt;\n  ggplot(aes(x = ano, y = valor, color = unidad_geografica_str)) +\n  geom_point() + \n  geom_col() +\n  labs(title = str_glue(\"Volume of available groundwater in each Mexican state: \", plot_state|&gt; str_to_title()), x= \"Year\", y= \"Value\", color = \"State\", subtitle = str_wrap(\"Many states like Nuevo León are experiencing an increasing deficit of groundwater availablility.\"), caption = \"Source = Consejo Nuevo León\"\n)\n}\n\n## This is an example to make sure that it works: \nplot_groundwater(groundwater_list[[1]])\n\n\n\n\n\n\n\n\nNow I will plot each state:\n\ngroundwater_list |&gt; \n  map(plot_groundwater)\n\n[[1]]\n\n\n\n\n\n\n\n\n\n\n[[2]]\n\n\n\n\n\n\n\n\n\n\n[[3]]\n\n\n\n\n\n\n\n\n\n\n[[4]]\n\n\n\n\n\n\n\n\n\n\n[[5]]\n\n\n\n\n\n\n\n\n\n\n[[6]]\n\n\n\n\n\n\n\n\n\n\n[[7]]\n\n\n\n\n\n\n\n\n\n\n[[8]]\n\n\n\n\n\n\n\n\n\n\n[[9]]\n\n\n\n\n\n\n\n\n\n\n[[10]]\n\n\n\n\n\n\n\n\n\n\n[[11]]\n\n\n\n\n\n\n\n\n\n\n[[12]]\n\n\n\n\n\n\n\n\n\n\n[[13]]\n\n\n\n\n\n\n\n\n\n\n[[14]]\n\n\n\n\n\n\n\n\n\n\n[[15]]\n\n\n\n\n\n\n\n\n\n\n[[16]]\n\n\n\n\n\n\n\n\n\n\n[[17]]\n\n\n\n\n\n\n\n\n\n\n[[18]]\n\n\n\n\n\n\n\n\n\n\n[[19]]\n\n\n\n\n\n\n\n\n\n\n[[20]]\n\n\n\n\n\n\n\n\n\n\n[[21]]\n\n\n\n\n\n\n\n\n\n\n[[22]]\n\n\n\n\n\n\n\n\n\n\n[[23]]\n\n\n\n\n\n\n\n\n\n\n[[24]]\n\n\n\n\n\n\n\n\n\n\n[[25]]\n\n\n\n\n\n\n\n\n\n\n[[26]]\n\n\n\n\n\n\n\n\n\n\n[[27]]\n\n\n\n\n\n\n\n\n\n\n[[28]]\n\n\n\n\n\n\n\n\n\n\n[[29]]\n\n\n\n\n\n\n\n\n\n\n[[30]]\n\n\n\n\n\n\n\n\n\n\n[[31]]\n\n\n\n\n\n\n\n\n\n\n[[32]]\n\n\n\n\n\n\n\n\n\n\n[[33]]\n\n\n\n\n\n\n\n\n\nData takeaways: The availability of groundwater in 2018 decreased from -131.490 to -294.150 millions of cubic meters of groundwater, meaning that there is an increase in the deficit volume of groundwater in this state. Nuevo León went through an intense drought in 2022, whose data is not included."
  },
  {
    "objectID": "02-analysis.html#reforestation",
    "href": "02-analysis.html#reforestation",
    "title": "Analysis",
    "section": "Reforestation",
    "text": "Reforestation\nLastly, I will add the data for the hectares of reforestation done by each state. This data also includes “Nacional” or the amount of hectares reforested in the entire nation by year.\nI prepare the data:\n\nreforestation_hectares &lt;- all_the_data |&gt;\n  filter(source == \"reforestation\") |&gt;\n  group_by(unidad_geografica_str, ano) |&gt;\n  select(unidad_geografica_str, valor, ano) |&gt;\n  mutate(ano= str_c(\"01-01-\", ano) |&gt; mdy() )\n\nreforestation_hectares\n\n# A tibble: 528 × 3\n# Groups:   unidad_geografica_str, ano [528]\n   unidad_geografica_str   valor ano       \n   &lt;chr&gt;                   &lt;dbl&gt; &lt;date&gt;    \n 1 Nacional              14513.  1993-01-01\n 2 Aguascalientes          123.  1993-01-01\n 3 Durango                 648.  1993-01-01\n 4 Guanajuato               42.8 1993-01-01\n 5 Guerrero                737.  1993-01-01\n 6 Hidalgo                 285.  1993-01-01\n 7 Jalisco                 316.  1993-01-01\n 8 México                  734   1993-01-01\n 9 Michoacán               802.  1993-01-01\n10 Morelos                 982.  1993-01-01\n# ℹ 518 more rows\n\n\nNow I will do my last iteration with this data:\n\nreforestation_list &lt;- all_the_data |&gt; distinct(unidad_geografica_str) |&gt; pull(unidad_geografica_str)\n\nreforestation_list\n\n [1] \"Aguascalientes\"      \"Durango\"             \"Guanajuato\"         \n [4] \"Guerrero\"            \"Hidalgo\"             \"Jalisco\"            \n [7] \"México\"              \"Michoacán\"           \"Morelos\"            \n[10] \"Nayarit\"             \"Nuevo León\"          \"Baja California\"    \n[13] \"Oaxaca\"              \"Puebla\"              \"Querétaro\"          \n[16] \"Quintana Roo\"        \"San Luis Potosí\"     \"Sinaloa\"            \n[19] \"Sonora\"              \"Tabasco\"             \"Tamaulipas\"         \n[22] \"Tlaxcala\"            \"Baja California Sur\" \"Veracruz\"           \n[25] \"Yucatán\"             \"Zacatecas\"           \"Campeche\"           \n[28] \"Coahuila\"            \"Colima\"              \"Chiapas\"            \n[31] \"Chihuahua\"           \"Ciudad de México\"    \"Nacional\"           \n\n\nNow I plot the data with a function:\n\nplot_reforestation &lt;- function(plot_state) {\n  reforestation_hectares |&gt; \n  filter(unidad_geografica_str == plot_state) |&gt;\n  ggplot(aes(x = ano, y = valor, color = unidad_geografica_str)) +\n  geom_point() + \n  geom_line() +\n  labs(title = str_glue(\"Hectares reforested in each Mexican state: \", plot_state|&gt; str_to_title()), x= \"Year\", y= \"Value\", color = \"State\", subtitle = str_wrap(\"At the national level, the most amount of hectares reforested was 375,705.790 in 2012.\"), caption = \"Source = Consejo Nuevo León\"\n)\n}\n\n## This is an example to make sure that it works: \nplot_reforestation(reforestation_list[[1]])\n\n\n\n\n\n\n\n\nNow I will plot each state:\n\nreforestation_list |&gt; \n  map(plot_reforestation)\n\n[[1]]\n\n\n\n\n\n\n\n\n\n\n[[2]]\n\n\n\n\n\n\n\n\n\n\n[[3]]\n\n\n\n\n\n\n\n\n\n\n[[4]]\n\n\n\n\n\n\n\n\n\n\n[[5]]\n\n\n\n\n\n\n\n\n\n\n[[6]]\n\n\n\n\n\n\n\n\n\n\n[[7]]\n\n\n\n\n\n\n\n\n\n\n[[8]]\n\n\n\n\n\n\n\n\n\n\n[[9]]\n\n\n\n\n\n\n\n\n\n\n[[10]]\n\n\n\n\n\n\n\n\n\n\n[[11]]\n\n\n\n\n\n\n\n\n\n\n[[12]]\n\n\n\n\n\n\n\n\n\n\n[[13]]\n\n\n\n\n\n\n\n\n\n\n[[14]]\n\n\n\n\n\n\n\n\n\n\n[[15]]\n\n\n\n\n\n\n\n\n\n\n[[16]]\n\n\n\n\n\n\n\n\n\n\n[[17]]\n\n\n\n\n\n\n\n\n\n\n[[18]]\n\n\n\n\n\n\n\n\n\n\n[[19]]\n\n\n\n\n\n\n\n\n\n\n[[20]]\n\n\n\n\n\n\n\n\n\n\n[[21]]\n\n\n\n\n\n\n\n\n\n\n[[22]]\n\n\n\n\n\n\n\n\n\n\n[[23]]\n\n\n\n\n\n\n\n\n\n\n[[24]]\n\n\n\n\n\n\n\n\n\n\n[[25]]\n\n\n\n\n\n\n\n\n\n\n[[26]]\n\n\n\n\n\n\n\n\n\n\n[[27]]\n\n\n\n\n\n\n\n\n\n\n[[28]]\n\n\n\n\n\n\n\n\n\n\n[[29]]\n\n\n\n\n\n\n\n\n\n\n[[30]]\n\n\n\n\n\n\n\n\n\n\n[[31]]\n\n\n\n\n\n\n\n\n\n\n[[32]]\n\n\n\n\n\n\n\n\n\n\n[[33]]\n\n\n\n\n\n\n\n\n\nData takeaway: The national amount of hectares reforested is not surprisingly the entity with the highest amount of hectares. The peak of reforestation happened in 2012, with 375,705.790 hectares reforested in 2012. In 2020, the total amount of hectares reforested dropped to a stunning 4,618.38."
  },
  {
    "objectID": "02-analysis.html#comparing-all-32-state-rankings",
    "href": "02-analysis.html#comparing-all-32-state-rankings",
    "title": "Analysis",
    "section": "Comparing all 32 state rankings",
    "text": "Comparing all 32 state rankings\nHere I will use a ranking to determine how well each state performed in each category.\nStarting with the ranking for the climate change index:\n\nclimate_rank &lt;- climate_change_index |&gt;\n  group_by(ano) |&gt;\n  ## Group by year so I could see the ranking by year \n  mutate(ranking = dense_rank(desc(valor))) |&gt;\n## Then created the rank variable in descending order because a higher score is a better score. \n arrange(desc(valor)) |&gt; \n## I wanted to visualize the highest to lowest scores all together \n  add_column(source = \"Climate\")\nclimate_rank\n\n# A tibble: 384 × 5\n# Groups:   ano [12]\n   unidad_geografica_str valor ano        ranking source \n   &lt;chr&gt;                 &lt;dbl&gt; &lt;date&gt;       &lt;int&gt; &lt;chr&gt;  \n 1 Ciudad de México       83.4 2015-01-01       1 Climate\n 2 Ciudad de México       83.2 2016-01-01       1 Climate\n 3 Ciudad de México       80.4 2014-01-01       1 Climate\n 4 Ciudad de México       80.2 2013-01-01       1 Climate\n 5 Ciudad de México       80.1 2012-01-01       1 Climate\n 6 Ciudad de México       80.0 2011-01-01       1 Climate\n 7 Ciudad de México       78.3 2018-01-01       1 Climate\n 8 Ciudad de México       77.3 2017-01-01       1 Climate\n 9 Ciudad de México       71.8 2020-01-01       1 Climate\n10 Ciudad de México       71.7 2022-01-01       1 Climate\n# ℹ 374 more rows\n\n\nI am using a column graph to show the ranking distribution of each state per year:\n\n climate_rank_chart &lt;- climate_rank |&gt;\n  ggplot(aes(fill = ranking, x= ano |&gt; year() |&gt; as.character(), y= unidad_geografica_str)) +\n  geom_tile() + \n  geom_text(aes(label = ranking), color = \"white\")+\n  labs(\n    x = \"Year\",\n    y = \"State\",\n    title = \"Climate change index ranking by year for each Mexican state\",\n    color = \"Ranking\", \n    subtitle = str_wrap(\"Ciudad de México constantly had the highest ranking for climate change index score. Notably, Mexico City has the highest population density of the country.\"), \n  caption = \"Source = Consejo Nuevo León\"\n  ) +\ntheme(legend.position = \"bottom\")\n\n\n ggsave(\"figures/climate_rank_chart.png\")\n\nSaving 7 x 5 in image\n\n\nNow we print our ranking chart so it looks good on the computer:\n\nData takeaway: Ranking each of the 32 federal entities from 1 to 32, we can show that a higher ranking which is associated with a better score performance is represented with a darker blue shade. Aguascalientes and Ciudad de México consistently have a higher ranking per year, while states like Tabasco and Chiapas consistently ranked lower. Ciudad de México is a large urban area, where the data might observe less natural resources.\nNow I want to look at the water insecurity percentage data and rank each states performance:\n\nwater_insecurity_rank &lt;- water_insecurity_percent |&gt;\n  group_by(ano) |&gt;\n  ## Group by year so I could see the ranking by year \n  mutate(ranking = dense_rank(valor)) |&gt;\n## Then created the rank variable in descending order because a higher score is a better score. \n arrange(valor) |&gt;\n## I wanted to visualize the highest to lowest scores all together \n  add_column(source = \"Water insecurity\")\n\n\nwater_insecurity_rank\n\n# A tibble: 66 × 5\n# Groups:   ano [2]\n   unidad_geografica_str valor ano        ranking source          \n   &lt;chr&gt;                 &lt;dbl&gt; &lt;date&gt;       &lt;int&gt; &lt;chr&gt;           \n 1 Yucatán                3.55 2021-01-01       1 Water insecurity\n 2 Chihuahua              3.85 2021-01-01       2 Water insecurity\n 3 Quintana Roo           4.38 2021-01-01       3 Water insecurity\n 4 Tamaulipas             4.52 2021-01-01       4 Water insecurity\n 5 Tlaxcala               5.14 2022-01-01       1 Water insecurity\n 6 Yucatán                5.50 2022-01-01       2 Water insecurity\n 7 Campeche               6.72 2022-01-01       3 Water insecurity\n 8 Nuevo León             7.00 2021-01-01       5 Water insecurity\n 9 Sinaloa                7.32 2022-01-01       4 Water insecurity\n10 Colima                 7.65 2021-01-01       6 Water insecurity\n# ℹ 56 more rows\n\n\nNow I want to visualize the ranking:\n\nwater_insecurity_chart &lt;- water_insecurity_rank |&gt;\n  ggplot(aes(fill = ranking, x= ano |&gt; year() |&gt; as.character(), y= unidad_geografica_str)) +\n  geom_tile() +\n  geom_text(aes(label = ranking), color = \"white\") +\n  labs(\n    x = \"Year\",\n    y = \"State\",\n    title = \"Water insecurity performance ranking by year for each Mexican state\",\n    color = \"Ranking\",\n    subtitle = str_wrap(\"Nuevo León had 7.004% of homes with not enough available water in 2021, ranking in fifth place compared to other states. In 2022, the state ranked in last place with 42.014% of homes experiencing water insecurity in 2022.\"), \n    caption = \"Source = Consejo Nuevo León\"\n  ) +\ntheme(legend.position = \"bottom\")\n\n\n ggsave(\"figures/water_insecurity_chart.png\")\n\nSaving 7 x 5 in image\n\n\n\nGroundwater ranking for the states with the most amount of groundwater is represented with this data:\n\ngroundwater_rank &lt;- groundwater_volume |&gt;\n  group_by(ano) |&gt;\n  ## Group by year so I could see the ranking by year \n  mutate(ranking = dense_rank(desc(valor))) |&gt;\n## Then created the rank variable in descending order because a higher score is a better score. \n arrange(desc(valor)) |&gt; \n## I wanted to visualize the highest to lowest scores all together \n   add_column(source = \"Groundwater\")\n \n\ngroundwater_rank\n\n# A tibble: 64 × 5\n# Groups:   ano [2]\n   unidad_geografica_str valor ano        ranking source     \n   &lt;chr&gt;                 &lt;dbl&gt; &lt;date&gt;       &lt;int&gt; &lt;chr&gt;      \n 1 Tabasco               7613. 2018-01-01       1 Groundwater\n 2 Tabasco               7556. 2020-01-01       1 Groundwater\n 3 Yucatán               2843. 2018-01-01       2 Groundwater\n 4 Chiapas               2755. 2020-01-01       2 Groundwater\n 5 Chiapas               2747. 2018-01-01       3 Groundwater\n 6 Yucatán               2387. 2020-01-01       3 Groundwater\n 7 Guerrero               762. 2018-01-01       4 Groundwater\n 8 Guerrero               719. 2020-01-01       4 Groundwater\n 9 Veracruz               655. 2018-01-01       5 Groundwater\n10 Veracruz               528. 2020-01-01       5 Groundwater\n# ℹ 54 more rows\n\n\nNow we will visualize the groundwater ranking:\n\ngroundwater_chart &lt;- groundwater_rank |&gt;\n  ggplot(aes(fill = ranking, x= ano |&gt; year() |&gt; as.character(), y= unidad_geografica_str)) +\n  geom_tile() +\n  geom_text(aes(label = ranking), color= \"white\") +\n  labs(\n    x = \"Year\",\n    y = \"State\",\n    title = \"Amount of available groundwater volume for each Mexican state\",\n    color = \"Ranking\", \n    subtitle = str_wrap(\"Nuevo León has a significant deficit of groundwater availablility, with -294.150 millions of cubic meters of groundwater.\"), \n    caption = \"Source = Consejo Nuevo León\"\n  ) +\ntheme(legend.position = \"bottom\")\n\n\n ggsave(\"figures/groundwater_chart.png\") \n\nSaving 7 x 5 in image\n\n\n\nFinally, lets look at the ranking for reforestation efforts in each state:\n\nreforestation_rank &lt;- reforestation_hectares |&gt; \n  filter(unidad_geografica_str != \"Nacional\") |&gt;\n  group_by(ano) |&gt;\n  ## Group by year so I could see the ranking by year \n  mutate(ranking = dense_rank(desc(valor))) |&gt;\n## Then created the rank variable in descending order because a higher score is a better score. \n arrange(desc(valor)) |&gt; \n## I wanted to visualize the highest to lowest scores all together \n  add_column(source = \"Reforestation\")\n\n\nreforestation_rank\n\n# A tibble: 512 × 5\n# Groups:   ano [16]\n   unidad_geografica_str  valor ano        ranking source       \n   &lt;chr&gt;                  &lt;dbl&gt; &lt;date&gt;       &lt;int&gt; &lt;chr&gt;        \n 1 San Luis Potosí       35176. 2012-01-01       1 Reforestation\n 2 Coahuila              31747  2012-01-01       2 Reforestation\n 3 Veracruz              29315. 2012-01-01       3 Reforestation\n 4 Zacatecas             28395  2012-01-01       4 Reforestation\n 5 Coahuila              24380  2011-01-01       1 Reforestation\n 6 Chiapas               24009. 2012-01-01       5 Reforestation\n 7 Veracruz              23735  2005-01-01       1 Reforestation\n 8 Puebla                22390. 2012-01-01       6 Reforestation\n 9 Tamaulipas            21571  2000-01-01       1 Reforestation\n10 Quintana Roo          20386  2000-01-01       2 Reforestation\n# ℹ 502 more rows\n\n\nNow I will visualize the data using ggplot:\n\nreforestation_chart &lt;- reforestation_rank |&gt;\n  ggplot(aes(fill = ranking, x= ano |&gt; year() |&gt; as.character(), y= unidad_geografica_str)) +\n  geom_tile() +\n  geom_text(aes(label = ranking), color = \"white\") + \n  labs(\n    x = \"Year\",\n    y = \"State\",\n    title = \"Hectares reforested in each Mexican state\",\n    color = \"Ranking\", \n    subtitle = str_wrap(\"Hectares of reforested areas in each state vary consistently. The year 2012 had a significant increase in reforested areas, with states like San Luis Potosi and Coahuila leading in rank.\"), \n   caption = \"Source = Consejo Nuevo León\"\n  ) +\ntheme(legend.position = \"bottom\")\n\n\n ggsave(\"figures/reforestation_chart.png\") \n\nSaving 7 x 5 in image"
  },
  {
    "objectID": "02-analysis.html#nuevo-león-ranking",
    "href": "02-analysis.html#nuevo-león-ranking",
    "title": "Analysis",
    "section": "Nuevo León ranking",
    "text": "Nuevo León ranking\nIn order to see how my home state of Nuevo León did in all of the categories I have to put the ranking data together:\nI will combine the ranking using bind.rows:\n\nnuevo_leon_ranking &lt;- \nbind_rows(climate_rank, water_insecurity_rank, groundwater_rank, reforestation_rank) |&gt; \n  filter(unidad_geografica_str == \"Nuevo León\")\n\nnuevo_leon_ranking\n\n# A tibble: 32 × 5\n# Groups:   ano [17]\n   unidad_geografica_str valor ano        ranking source \n   &lt;chr&gt;                 &lt;dbl&gt; &lt;date&gt;       &lt;int&gt; &lt;chr&gt;  \n 1 Nuevo León             68.8 2014-01-01       3 Climate\n 2 Nuevo León             68.1 2016-01-01       3 Climate\n 3 Nuevo León             67.4 2015-01-01       2 Climate\n 4 Nuevo León             66.1 2013-01-01       3 Climate\n 5 Nuevo León             62.7 2012-01-01       3 Climate\n 6 Nuevo León             59.9 2017-01-01       4 Climate\n 7 Nuevo León             57.6 2011-01-01       9 Climate\n 8 Nuevo León             56.1 2018-01-01       5 Climate\n 9 Nuevo León             39.0 2019-01-01       5 Climate\n10 Nuevo León             37.6 2022-01-01       4 Climate\n# ℹ 22 more rows\n\n## We added the source column in each ranking break down \n\nVisualize the ranking for Nuevo León:\n\nnuevo_leon_ranking  |&gt;\n  ggplot(aes(fill = ranking, x= ano |&gt; year() |&gt; as.character(), y= source)) +\n   geom_tile()+\n   geom_text(aes(label = ranking), color = \"white\") +\n  labs(\n    x = \"Year\",\n    y = \"Category\",\n    title = \"Nuevo León ranking in all four categories\",\n    color = \"Ranking\", \n    subtitle = str_wrap(\"Each tile represents the ranking position of the state of Nuevo León for the four different categories: climate change index, water insecurity, groundwater and reforestation. Even though Nuevo León placed 33rd in 2022 for water insecurity, which is the lowest ranking position, the state ranked fourth in the same year for climate change index.\"), \n    caption = \"Source = Consejo Nuevo León\"\n  ) +\ntheme(legend.position = \"bottom\")\n\n\n\n\n\n\n\n ggsave(\"figures/nuevo_leon_ranking.png\") \n\nSaving 7 x 5 in image\n\n\n\nData takeaways: Each tile represents the ranking position of the state of Nuevo León for the four different categories: climate change index, water insecurity, groundwater and reforestation. Even though Nuevo León placed thirty third in 2022 for water insecurity (including the ranking for the whole nation plus 32 federal entities), which is the lowest ranking, the state ranked fourth in the same year for climate change index, or how well the state uses its natural resources. Extra reporting and investigation would be needed to asses these contrasting results.\nFor the category of reforestation, Nuevo León has significantly improved when compared to other states. In 1993, Nuevo León occupied 16th place, but moved up to fourth in 2022."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  }
]